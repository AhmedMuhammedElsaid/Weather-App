"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gameAction=void 0;var _Constants=_interopRequireDefault(require("../Constants"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var API_ONE="https://www.atg.se/services/racinginfo/v1/api/products",API_TWO="https://www.atg.se/services/racinginfo/v1/api/games",gameAction=function(o){return function(n){fetch("".concat(API_ONE,"/").concat(o)).then(function(t){return t.json()}).then(function(t){var e=(t.upcoming?t.upcoming:t.results)[0].id;fetch("".concat(API_TWO,"/").concat(e)).then(function(t){return t.json()}).then(function(t){n({type:_Constants.default.FETCH_GAME_DATA_SUCCESS,data:t.races,gameType:o})}).catch(function(t){n({type:_Constants.default.FETCH_GAME_DATA_FAILURE,err:t})})}).catch(function(t){n({type:_Constants.default.FETCH_GAME_DATA_FAILURE,err:t})})}};exports.gameAction=gameAction;